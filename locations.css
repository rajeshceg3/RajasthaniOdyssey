/*
    RajasthaniOdyssey - Unified Chapter Styling
    This file will contain the cohesive design language for all chapters,
    ensuring a consistent, elegant, and emotionally resonant user journey.
    All previous conflicting styles have been purged.
*/

/*
    Background Images
    Centralized here for proper separation of concerns.
*/
#bg-jaipur {
    background-image: url('https://images.unsplash.com/photo-1617153257577-476c24a64b2a?auto=format&fit=crop&w=1920&q=80');
}

#bg-jodhpur {
    background-image: url('https://images.unsplash.com/photo-1567215272332-90117f77a8f7?auto=format&fit=crop&w=1920&q=80');
}

#bg-jaisalmer {
    background-image: url('https://images.unsplash.com/photo-1545229763-834c9f792d41?auto=format&fit=crop&w=1920&q=80');
}

#bg-udaipur {
    background-image: url('https://images.unsplash.com/photo-1596374071936-a57c2cb0b82a?auto=format&fit=crop&w=1920&q=80');
}

#bg-thar {
    background-image: url('https://images.unsplash.com/photo-1628892945281-c17543884b23?auto=format&fit=crop&w=1920&q=80');
}

#bg-pushkar {
    background-image: url('https://images.unsplash.com/photo-1587224234288-8b3681d93549?auto=format&fit=crop&w=1920&q=80');
}

/*
    Immersive Background Styling
    Applies a cinematic feel to the chapter backgrounds.
*/
.bg-image {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: center;
    z-index: -1;
    transform: scale(1.05); /* Start slightly zoomed in */
    transition: transform 12s ease-in-out; /* A long, gentle transition for the zoom effect */
    filter: url(#distortionFilter);
}

@keyframes float {
    0% { transform: scale(1.05) translate(0, 0); }
    33% { transform: scale(1.08) translate(-10px, -5px); }
    66% { transform: scale(1.06) translate(5px, 10px); }
    100% { transform: scale(1.05) translate(0, 0); }
}

.bg-image::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.2) 0%, transparent 40%);
    opacity: 0.8;
}

.chapter.active .bg-image {
    /* Gently zoom and float */
    animation: float 25s ease-in-out infinite;
}

/* Atmosphere Canvas */
#dust-canvas {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1; /* Above background, below UI */
}
